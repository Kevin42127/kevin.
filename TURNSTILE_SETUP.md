# Cloudflare Turnstile 設定指南

## 取得 Turnstile 金鑰

1. 前往 [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. 登入或註冊 Cloudflare 帳號（完全免費）
3. 選擇你的網站或新增網站
4. 前往 **Security** > **Turnstile**
5. 點擊 **Add Site** 新增網站
6. 填寫網站資訊：
   - **Site name**: 你的網站名稱（例如：Kevin Personal Website）
   - **Domain**: 你的網域（例如：kevinoffical.vercel.app）
   - **Widget mode**: 選擇小工具模式（見下方說明）
7. 點擊 **Create** 建立

## 小工具模式（Widget Mode）選擇

Cloudflare Turnstile 提供三種小工具模式：

### 1. **Managed（管理模式）** ⭐ 推薦
- **特點**: 根據風險評估自動決定是否需要使用者互動
- **使用者體驗**: 大多數情況下自動驗證，必要時可能顯示核取方塊
- **適用場景**: 一般網站、個人網站（推薦）
- **優點**: 平衡安全性和使用者體驗，智能調整

### 2. **Non-Interactive（非互動模式）**
- **特點**: 顯示載入動畫，背景執行驗證
- **使用者體驗**: 使用者無需任何操作，只會看到載入動畫
- **適用場景**: 需要完全無互動體驗的網站
- **優點**: 保證不會要求使用者互動

### 3. **Invisible（隱形模式）**
- **特點**: 完全在背景執行，不顯示任何視覺元素
- **使用者體驗**: 完全無感，使用者看不到任何驗證元素
- **適用場景**: 需要最乾淨介面的網站
- **優點**: 最簡潔的使用者體驗

### 建議選擇

**對於個人網站聯繫表單，建議選擇：**

1. **Managed（管理模式）** - 最佳選擇
   - 智能平衡安全性和體驗
   - 大多數情況下自動驗證
   - 必要時才顯示驗證

2. **Non-Interactive（非互動模式）** - 備選
   - 如果希望保證不會顯示互動元素
   - 只會顯示載入動畫
   - 適合追求簡潔體驗的網站

**不建議選擇 Invisible**，因為完全隱藏可能讓使用者不知道驗證正在進行。
8. 複製以下金鑰：
   - **Site Key** (公開金鑰)
   - **Secret Key** (私密金鑰)

## 設定環境變數

在 `.env.local` 或 Vercel 環境變數中設定：

```env
NEXT_PUBLIC_TURNSTILE_SITE_KEY=你的_site_key
TURNSTILE_SECRET_KEY=你的_secret_key
```

## 測試金鑰

Cloudflare 提供測試金鑰，可用於開發環境：

**Site Key (測試用):**
```
1x00000000000000000000AA
```

**Secret Key (測試用):**
```
1x0000000000000000000000000000000AA
```

⚠️ **注意**: 測試金鑰會永遠通過驗證，僅用於開發測試，生產環境請使用真實金鑰。

## 功能說明

- **自動驗證**: Turnstile 會在背景自動驗證，使用者無需操作
- **隱私友善**: 不追蹤使用者，符合 GDPR
- **完全免費**: 無使用限制
- **智能防護**: 自動判斷機器人與真人

## 故障排除

如果驗證失敗：
1. 檢查環境變數是否正確設定
2. 確認網域是否在 Turnstile 設定中
3. 檢查瀏覽器控制台是否有錯誤訊息
4. 確認金鑰是否為測試金鑰（測試金鑰在生產環境可能失效）
